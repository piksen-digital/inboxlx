<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InboxLX ‚Äì Domain & Copy Compliance for Cold Email</title>
    <meta name="description" content="Check domain technical readiness AND email copy compliance for cold email campaigns. Avoid spam filters and legal issues.">
    <meta name="keywords" content="cold email, domain check, email deliverability, SPF, DKIM, DMARC, email copy compliance, spam triggers, unsubscribe compliance">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://inboxlx.vercel.app">
    <meta property="og:title" content="InboxLX ‚Äì Two Critical Checks Before You Send">
    <meta property="og:description" content="Domain readiness + email copy compliance for cold emailers.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://inboxlx.vercel.app">
    <meta property="og:image" content="https://inboxlx.vercel.app/og-image.png">
    
    <!-- Favicon (SVG logo as data URI) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%233B82F6'%3E%3Cpath d='M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'/%3E%3C/svg%3E">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#3B82F6',
                        'secondary': '#10B981',
                        'accent': '#8B5CF6',
                        'warning': '#F59E0B',
                        'dark': '#111827',
                        'light': '#F9FAFB'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s infinite',
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.9)), url('https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        
        .header-blur {
            backdrop-filter: blur(4px);
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .status-ready { background: linear-gradient(135deg, #10B981 0%, #059669 100%); }
        .status-risky { background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%); }
        .status-not-ready { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); }
        .status-compliant { background: linear-gradient(135deg, #10B981 0%, #059669 100%); }
        .status-needs-review { background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%); }
        .status-non-compliant { background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%); }
        
        .check-pass { color: #10B981; }
        .check-warning { color: #F59E0B; }
        .check-fail { color: #EF4444; }
        
        .mobile-menu { transition: all 0.3s ease; }
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .highlight-spam {
            background-color: rgba(239, 68, 68, 0.2);
            border-left: 3px solid #EF4444;
            padding-left: 8px;
        }
        .highlight-warning {
            background-color: rgba(245, 158, 11, 0.2);
            border-left: 3px solid #F59E0B;
            padding-left: 8px;
        }
        .highlight-good {
            background-color: rgba(16, 185, 129, 0.2);
            border-left: 3px solid #10B981;
            padding-left: 8px;
        }
        .email-preview {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            white-space: pre-wrap;
        }
        /* User menu dropdown */
        .user-menu-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            min-width: 200px;
            background: #1F2937;
            border: 1px solid #374151;
            border-radius: 0.5rem;
            padding: 0.5rem 0;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3);
            z-index: 100;
        }
        .user-menu-dropdown a, .user-menu-dropdown button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 0.5rem 1rem;
            color: #D1D5DB;
            transition: background 0.2s;
        }
        .user-menu-dropdown a:hover, .user-menu-dropdown button:hover {
            background: #374151;
            color: white;
        }
    </style>
</head>
<body class="bg-dark text-white font-sans">

    <!-- Fixed Header -->
    <header class="fixed top-0 left-0 right-0 z-50 header-blur shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="#" class="flex items-center space-x-2">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 h-8 text-primary">
                            <path fill="currentColor" d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            <path fill="currentColor" d="M14 16H4v-4h10v4zm4-4h-2v2h2v-2z" opacity="0.7"/>
                        </svg>
                        <div>
                            <span class="font-bold text-xl text-white">InboxLX</span>
                            <span class="font-medium text-sm text-primary">Pro</span>
                        </div>
                    </a>
                </div>
                
                <!-- Desktop Navigation + User Info -->
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="#features" class="text-gray-300 hover:text-white transition-colors">Features</a>
                    <a href="#how-it-works" class="text-gray-300 hover:text-white transition-colors">How It Works</a>
                    <a href="#tools" class="text-gray-300 hover:text-white transition-colors">Tools</a>
                    <a href="#pricing" class="text-gray-300 hover:text-white transition-colors">Pricing</a>
                    <a href="#faq" class="text-gray-300 hover:text-white transition-colors">FAQ</a>
                    
                    <!-- User area -->
                    <div class="flex items-center space-x-4" id="user-info">
                        <span id="user-email" class="text-sm text-gray-300 hidden"></span>
                        <span id="usage-badge" class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-sm hidden">1/1 checks</span>
                        <div class="relative">
                            <button id="user-menu-btn" class="w-8 h-8 rounded-full bg-primary flex items-center justify-center hidden">
                                <i class="fas fa-user text-white text-sm"></i>
                            </button>
                            <div id="user-dropdown" class="user-menu-dropdown hidden">
                                <div class="px-4 py-2 text-xs text-gray-400 border-b border-gray-700" id="dropdown-tier">Free</div>
                                <a href="#" id="dropdown-dashboard">Dashboard</a>
                                <button id="dropdown-logout">Logout</button>
                            </div>
                        </div>
                        <button id="login-header-btn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            Sign In
                        </button>
                    </div>
                </nav>
                
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden text-gray-300 hover:text-white">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="mobile-menu md:hidden fixed inset-0 bg-black bg-opacity-90 z-40 opacity-0 pointer-events-none">
            <div class="absolute right-0 top-0 h-full w-64 bg-gray-900 shadow-lg transform translate-x-full transition-transform duration-300">
                <div class="flex flex-col p-6 space-y-6">
                    <div class="flex justify-between items-center">
                        <span class="font-bold text-xl text-white">Menu</span>
                        <button id="close-mobile-menu" class="text-gray-400 hover:text-white">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <a href="#features" class="text-gray-300 hover:text-white text-lg py-2">Features</a>
                    <a href="#how-it-works" class="text-gray-300 hover:text-white text-lg py-2">How It Works</a>
                    <a href="#tools" class="text-gray-300 hover:text-white text-lg py-2">Tools</a>
                    <a href="#pricing" class="text-gray-300 hover:text-white text-lg py-2">Pricing</a>
                    <a href="#faq" class="text-gray-300 hover:text-white text-lg py-2">FAQ</a>
                    <button id="mobile-login-btn" class="bg-primary text-white px-4 py-3 rounded-lg text-center hover:bg-blue-700">Sign In</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="gradient-bg pt-24 pb-16 md:pt-32 md:pb-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="max-w-4xl mx-auto text-center">
                <h1 class="text-4xl md:text-5xl font-bold mb-6 text-white">
                    Don't burn your domain OR get flagged for spam
                </h1>
                <p class="text-xl text-gray-300 mb-10 max-w-3xl mx-auto">
                    <span class="font-semibold text-primary">InboxLX</span> checks both domain technical readiness AND email copy compliance before you press Send.
                </p>
                
                <!-- Subscription Modal (unchanged) -->
                <div id="subscription-modal" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden items-center justify-center p-4">
                    <div class="glass-card rounded-2xl p-6 md:p-8 max-w-md w-full animate-fade-in">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-white">Subscription Required</h3>
                            <button id="close-modal" class="text-gray-400 hover:text-white">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="mb-6">
                            <div class="bg-blue-900/30 border border-blue-700 rounded-xl p-4 mb-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="font-semibold">Free Tier</span>
                                    <span class="text-green-400 font-bold">$0</span>
                                </div>
                                <p class="text-sm text-gray-300">1 domain check per month ‚Ä¢ Basic checks only ‚Ä¢ No copy compliance</p>
                            </div>
                            <div class="bg-purple-900/30 border border-purple-700 rounded-xl p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="font-semibold">Pro Tier</span>
                                    <span class="text-yellow-400 font-bold">$14.99/month</span>
                                </div>
                                <p class="text-sm text-gray-300">Unlimited domain & copy checks ‚Ä¢ All features ‚Ä¢ Priority support</p>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <a href="https://whop.com/inboxlx" target="_blank" 
                               class="block w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white text-center py-3 rounded-lg hover:opacity-90 transition-opacity font-semibold">
                                Subscribe on Whop
                            </a>
                            <div class="text-center">
                                <p class="text-sm text-gray-400 mb-2">Already have a subscription?</p>
                                <button id="enter-license-btn" class="text-primary hover:text-blue-400 text-sm">
                                    Enter License Key
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- License Key Modal -->
                <div id="license-modal" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden items-center justify-center p-4">
                    <div class="glass-card rounded-2xl p-6 md:p-8 max-w-md w-full animate-fade-in">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-white">Enter License Key</h3>
                            <button id="close-license-modal" class="text-gray-400 hover:text-white">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="mb-6">
                            <input type="text" id="license-key-input" placeholder="XXXX-XXXX-XXXX-XXXX" 
                                   class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-transparent">
                            <p class="text-sm text-gray-400 mt-2">Find your license key in your Whop dashboard</p>
                        </div>
                        <div class="space-y-3">
                            <button id="verify-license-btn" class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700 font-semibold">
                                Verify License
                            </button>
                            <button id="back-to-subscription" class="w-full text-gray-400 hover:text-white text-sm">
                                ‚Üê Back to subscription options
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- NEW Login Modal with tabs and close button -->
                <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden items-center justify-center p-4">
                    <div class="glass-card rounded-2xl p-6 md:p-8 max-w-md w-full animate-fade-in">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-white" id="login-modal-title">Sign In</h3>
                            <button id="close-login-modal" class="text-gray-400 hover:text-white">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>

                        <!-- Tabs -->
                        <div class="flex border-b border-gray-700 mb-6">
                            <button id="login-tab" class="flex-1 py-2 text-center font-medium border-b-2 border-primary text-white">Sign In</button>
                            <button id="signup-tab" class="flex-1 py-2 text-center font-medium text-gray-400 hover:text-white">Sign Up</button>
                        </div>

                        <!-- Login Form -->
                        <div id="login-form" class="space-y-4">
                            <input type="email" id="login-email" placeholder="Email" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <input type="password" id="login-password" placeholder="Password" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <p id="login-error" class="text-red-400 text-sm hidden"></p>
                            <button id="login-submit" class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700">Sign In</button>
                        </div>

                        <!-- Signup Form (initially hidden) -->
                        <div id="signup-form" class="hidden space-y-4">
                            <input type="email" id="signup-email" placeholder="Email" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <input type="password" id="signup-password" placeholder="Password" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <input type="password" id="signup-confirm" placeholder="Confirm Password" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            <p id="signup-error" class="text-red-400 text-sm hidden"></p>
                            <button id="signup-submit" class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700">Create Account</button>
                        </div>

                        <p class="text-center text-gray-400 text-sm mt-4">
                            By continuing, you agree to our <a href="#" class="text-primary">Terms</a>.
                        </p>
                    </div>
                </div>
                
                <!-- AI Rewrite Modal (new) -->
                <div id="ai-rewrite-modal" class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden items-center justify-center p-4">
                    <div class="glass-card rounded-2xl p-6 md:p-8 max-w-2xl w-full animate-fade-in">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-xl font-bold text-white">‚ú® AI Rewrite</h3>
                            <button id="close-ai-modal" class="text-gray-400 hover:text-white">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Tone</label>
                            <select id="ai-tone" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                                <option value="professional">Professional</option>
                                <option value="friendly">Friendly</option>
                                <option value="persuasive">Persuasive</option>
                                <option value="concise">Concise</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Rewritten Copy (editable)</label>
                            <textarea id="ai-rewritten-text" rows="8" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white font-mono"></textarea>
                        </div>
                        <div class="flex gap-3">
                            <button id="apply-rewrite-btn" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700">Apply to Editor</button>
                            <button id="regenerate-rewrite-btn" class="bg-gray-700 text-white px-6 py-3 rounded-lg hover:bg-gray-600">Regenerate</button>
                            <button id="cancel-rewrite-btn" class="bg-gray-800 text-gray-400 px-6 py-3 rounded-lg hover:bg-gray-700">Cancel</button>
                        </div>
                    </div>
                </div>
                
                <!-- Tool Navigation -->
                <div class="flex justify-center mb-8">
                    <div class="bg-gray-800/50 rounded-lg p-1 inline-flex">
                        <button id="tab-domain" class="px-4 py-2 rounded-md bg-primary text-white font-medium">Domain Check</button>
                        <button id="tab-copy" class="px-4 py-2 rounded-md text-gray-300 hover:text-white font-medium">Copy Compliance</button>
                    </div>
                </div>
                
                <!-- Domain Check Tool Card -->
                <div id="domain-tool" class="tool-section glass-card rounded-2xl p-6 md:p-8 max-w-4xl mx-auto card-hover">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-semibold text-white">
                            <i class="fas fa-server mr-2 text-primary"></i>Domain Readiness Check
                        </h2>
                        <!-- Usage badge (shown after login) -->
                        <div id="domain-usage-badge" class="hidden text-sm bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full">
                            0/1 domain checks this month
                        </div>
                    </div>
                    
                    <p class="text-gray-300 mb-6">Enter your domain name to see if it's technically safe to send cold email</p>
                    
                    <div class="flex flex-col md:flex-row gap-4 mb-8">
                        <div class="flex-grow">
                            <input type="text" id="domain-input" placeholder="example.com" 
                                   class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-transparent">
                            <p class="text-sm text-gray-400 mt-2">Don't include "http://" or "www"</p>
                        </div>
                        <button id="check-domain-button" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold whitespace-nowrap">
                            Check Domain
                        </button>
                    </div>
                    
                    <!-- Domain Results Section (keep your existing full implementation here) -->
                    <div id="domain-results-section" class="hidden animate-fade-in">
                        <!-- Your existing domain result HTML and JS update functions should remain unchanged -->
                        <!-- ... (full content from your previous version) ... -->
                    </div>
                    
                    <!-- Domain Loading State -->
                    <div id="domain-loading-state" class="hidden text-center py-12">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"></div>
                        <p class="text-gray-300">Checking domain records...</p>
                    </div>
                </div>
                
                <!-- Copy Compliance Tool Card -->
                <div id="copy-tool" class="tool-section hidden glass-card rounded-2xl p-6 md:p-8 max-w-4xl mx-auto card-hover">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-2xl font-semibold text-white">
                            <i class="fas fa-file-alt mr-2 text-warning"></i>Cold Email Copy Compliance
                        </h2>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm bg-purple-900/50 text-purple-300 px-3 py-1 rounded-full">Pro Feature</span>
                            <button id="copy-upgrade-btn" class="text-sm text-yellow-400 hover:text-yellow-300">Upgrade</button>
                        </div>
                    </div>
                    
                    <p class="text-gray-300 mb-6">Check your email copy for spam triggers, overclaim language, deceptive patterns, and compliance issues</p>
                    
                    <div class="mb-8">
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Email Subject:</label>
                            <input type="text" id="email-subject" placeholder="Quick question about your business..." 
                                   class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-transparent mb-4">
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-gray-300 mb-2">Email Body:</label>
                            <textarea id="email-body" rows="10" placeholder="Hi {First Name}, ..." 
                                      class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
                        </div>
                        
                        <div class="flex flex-col md:flex-row gap-4">
                            <div class="flex-grow">
                                <label class="block text-gray-300 mb-2">From Name (Optional):</label>
                                <input type="text" id="from-name" placeholder="John Smith" 
                                       class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                            </div>
                            <div class="flex-grow">
                                <label class="block text-gray-300 mb-2">Industry (Optional):</label>
                                <select id="email-industry" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white">
                                    <option value="general">General</option>
                                    <option value="saas">SaaS</option>
                                    <option value="ecommerce">E-commerce</option>
                                    <option value="finance">Finance</option>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="realestate">Real Estate</option>
                                    <option value="marketing">Marketing</option>
                                    <option value="consulting">Consulting</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-4">
                        <button id="check-copy-button" class="bg-warning text-gray-900 px-6 py-3 rounded-lg hover:bg-yellow-600 transition-colors font-semibold whitespace-nowrap">
                            <i class="fas fa-search mr-2"></i>Analyze Copy
                        </button>
                        <button id="load-example-button" class="bg-gray-700 text-gray-300 px-6 py-3 rounded-lg hover:bg-gray-600 font-semibold">
                            <i class="fas fa-eye mr-2"></i>Load Example
                        </button>
                        <button id="ai-rewrite-button" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 font-semibold">
                            <i class="fas fa-magic mr-2"></i>‚ú® Rewrite with AI
                        </button>
                        <button id="clear-copy-button" class="bg-gray-800 text-gray-400 px-6 py-3 rounded-lg hover:bg-gray-700 font-semibold">
                            <i class="fas fa-times mr-2"></i>Clear
                        </button>
                    </div>
                    
                    <!-- Copy Results Section (keep your existing full implementation) -->
                    <div id="copy-results-section" class="hidden animate-fade-in mt-8">
                        <!-- Your existing copy result HTML and JS update functions should remain unchanged -->
                        <!-- ... (full content from your previous version) ... -->
                    </div>
                    
                    <!-- Copy Loading State -->
                    <div id="copy-loading-state" class="hidden text-center py-12">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-warning mb-4"></div>
                        <p class="text-gray-300">Analyzing email copy...</p>
                    </div>
                </div>
                
                <p class="text-gray-400 text-sm mt-6 max-w-2xl mx-auto">
                    These tools check technical domain readiness AND email copy compliance. They do NOT guarantee inbox placement, send emails, warm domains, or bypass spam filters.
                </p>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16 bg-gray-900">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-white">Two Critical Checks Before You Send</h2>
                <p class="text-gray-400 max-w-2xl mx-auto">Most tools focus only on deliverability. We check both infrastructure AND message safety.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="w-12 h-12 bg-blue-900/50 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-server text-blue-400 text-xl"></i>
                    </div>
                    <h3 class="font-semibold text-xl mb-3 text-white">Domain Technical Readiness</h3>
                    <p class="text-gray-400 mb-4">Check MX, SPF, DKIM, DMARC records and domain age. Ensure your domain won't get blacklisted before you even start.</p>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                            Real DNS lookups (not simulated)
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                            Clear üü¢/üü°/üî¥ verdict system
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                            Actionable fixes for each issue
                        </li>
                    </ul>
                </div>
                
                <div class="bg-gray-800 rounded-2xl p-6 card-hover">
                    <div class="w-12 h-12 bg-purple-900/50 rounded-lg flex items-center justify-center mb-4">
                        <i class="fas fa-file-alt text-purple-400 text-xl"></i>
                    </div>
                    <h3 class="font-semibold text-xl mb-3 text-white">Email Copy Compliance</h3>
                    <p class="text-gray-400 mb-4">Check for spam triggers, overclaim language, deceptive patterns, and unsubscribe compliance. Avoid spam filters and legal issues.</p>
                    <ul class="text-gray-300 space-y-2 text-sm">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                            Spam trigger word detection
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                            Overclaim & deceptive language check
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2 text-xs"></i>
                            CAN-SPAM unsubscribe compliance
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-16 bg-dark">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-white">How It Works</h2>
                <p class="text-gray-400 max-w-2xl mx-auto">Simple, rule-based logic for both technical and copy compliance</p>
            </div>
            
            <div class="max-w-5xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-gray-800 rounded-2xl shadow-lg p-8">
                        <h3 class="font-semibold text-xl mb-4 text-white text-center">
                            <i class="fas fa-server mr-2 text-blue-400"></i>Domain Readiness
                        </h3>
                        
                        <div class="flex items-center mb-6">
                            <div class="bg-blue-900 text-blue-300 font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4">
                                1
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Enter Domain</h4>
                                <p class="text-gray-400 text-sm">Just type your domain (without http:// or www)</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center mb-6">
                            <div class="bg-blue-900 text-blue-300 font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4">
                                2
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">We Run 5 Critical Checks</h4>
                                <p class="text-gray-400 text-sm">MX, SPF, DKIM, DMARC records and domain age</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="bg-blue-900 text-blue-300 font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4">
                                3
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Get Your Readiness Verdict</h4>
                                <p class="text-gray-400 text-sm">Clear üü¢ Ready, üü° Risky, or üî¥ Not Ready verdict</p>
                            </div>
                        </div>
                        
                        <div class="mt-8 pt-6 border-t border-gray-700">
                            <h4 class="font-semibold text-lg mb-4 text-white">Our Simple Rule Logic:</h4>
                            <div class="bg-gray-900 rounded-xl p-4 font-mono text-sm text-gray-300">
                                <p class="mb-2">IF no MX ‚Üí üî¥ NOT READY</p>
                                <p class="mb-2">IF no SPF OR no DKIM ‚Üí üî¥ NOT READY</p>
                                <p class="mb-2">IF SPF + DKIM OK but domain &lt; 30 days ‚Üí üü° RISKY</p>
                                <p>IF all present + domain ‚â• 30 days ‚Üí üü¢ READY</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-800 rounded-2xl shadow-lg p-8">
                        <h3 class="font-semibold text-xl mb-4 text-white text-center">
                            <i class="fas fa-file-alt mr-2 text-purple-400"></i>Copy Compliance
                        </h3>
                        
                        <div class="flex items-center mb-6">
                            <div class="bg-purple-900 text-purple-300 font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4">
                                1
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Paste Email Copy</h4>
                                <p class="text-gray-400 text-sm">Enter subject and body of your cold email</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center mb-6">
                            <div class="bg-purple-900 text-purple-300 font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4">
                                2
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">We Analyze 5 Key Areas</h4>
                                <p class="text-gray-400 text-sm">Spam triggers, overclaims, personalization, unsubscribe, tone</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <div class="bg-purple-900 text-purple-300 font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4">
                                3
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-1">Get Compliance Score</h4>
                                <p class="text-gray-400 text-sm">Clear üü¢ Compliant, üü° Needs Review, or üî¥ Non-Compliant verdict</p>
                            </div>
                        </div>
                        
                        <div class="mt-8 pt-6 border-t border-gray-700">
                            <h4 class="font-semibold text-lg mb-4 text-white">What We Check For:</h4>
                            <div class="bg-gray-900 rounded-xl p-4 text-sm text-gray-300">
                                <p class="mb-2">‚Ä¢ Spam trigger words (free, guarantee, urgent, etc.)</p>
                                <p class="mb-2">‚Ä¢ Overclaim language (increase revenue by 300%, etc.)</p>
                                <p class="mb-2">‚Ä¢ Deceptive personalization ({First Name} without real data)</p>
                                <p class="mb-2">‚Ä¢ Unsubscribe language (CAN-SPAM compliance)</p>
                                <p>‚Ä¢ Tone and readability issues</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools Section -->
    <section id="tools" class="py-16 bg-gray-900">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-white">Complete Cold Email Protection</h2>
                <p class="text-gray-400 max-w-2xl mx-auto">Most tools focus on sending infrastructure only. We protect both your domain AND your message.</p>
            </div>
            
            <div class="max-w-5xl mx-auto">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="bg-gradient-to-br from-blue-900/30 to-blue-800/20 rounded-2xl p-8 border border-blue-800/50">
                        <div class="text-center mb-6">
                            <div class="w-16 h-16 bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-server text-blue-400 text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Domain Readiness</h3>
                            <p class="text-gray-300">Technical infrastructure check</p>
                        </div>
                        
                        <ul class="space-y-4 mb-8">
                            <li class="flex items-start">
                                <i class="fas fa-check text-blue-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">MX Records - Can you receive email?</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-blue-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">SPF - Prevents spoofing</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-blue-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">DKIM - Proves email integrity</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-blue-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">DMARC - Tells receivers what to do</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-blue-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">Domain Age - Young domains are risky</span>
                            </li>
                        </ul>
                        
                        <p class="text-sm text-gray-400">
                            <i class="fas fa-info-circle text-blue-400 mr-1"></i>
                            Prevents domain blacklisting before you start
                        </p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-purple-900/30 to-purple-800/20 rounded-2xl p-8 border border-purple-800/50">
                        <div class="text-center mb-6">
                            <div class="w-16 h-16 bg-purple-900/50 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-file-alt text-purple-400 text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Copy Compliance</h3>
                            <p class="text-gray-300">Message safety & legality check</p>
                        </div>
                        
                        <ul class="space-y-4 mb-8">
                            <li class="flex items-start">
                                <i class="fas fa-check text-purple-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">Spam Trigger Words - Avoids filters</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-purple-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">Overclaim Language - Maintains credibility</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-purple-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">Personalization - Avoids deceptive patterns</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-purple-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">Unsubscribe Language - Legal compliance</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-purple-400 mt-1 mr-3"></i>
                                <span class="text-gray-300">Tone & Readability - Better response rates</span>
                            </li>
                        </ul>
                        
                        <p class="text-sm text-gray-400">
                            <i class="fas fa-info-circle text-purple-400 mr-1"></i>
                            Prevents spam filtering and legal issues
                        </p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 border border-gray-700">
                        <div class="text-center mb-6">
                            <div class="w-16 h-16 bg-yellow-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-shield-alt text-yellow-400 text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-white mb-2">Why This Works</h3>
                            <p class="text-gray-300">The complete solution</p>
                        </div>
                        
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-white mb-2">Underserved Market</h4>
                                <p class="text-gray-400 text-sm">Most tools focus on sending infrastructure only, not message legality + safety.</p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-white mb-2">Perfect for Cold Emailers</h4>
                                <p class="text-gray-400 text-sm">Cold emailers already buy deliverability tools. This is the natural add-on.</p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-white mb-2">No External Dependencies</h4>
                                <p class="text-gray-400 text-sm">Pure text analysis + rule lists.</p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-white mb-2">Two-In-One</h4>
                                <p class="text-gray-400 text-sm">We combine both checks in one tool. No one else does this.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="py-16 bg-dark">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-white">Simple Pricing</h2>
                <p class="text-gray-400 max-w-2xl mx-auto">Get both domain AND copy compliance checks in one subscription</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <div class="bg-gray-800 rounded-2xl p-8 border-2 border-gray-700">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-bold text-white mb-2">Free Tier</h3>
                        <div class="text-4xl font-bold text-green-400 mb-4">$0</div>
                        <p class="text-gray-400">For testing only</p>
                    </div>
                    
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-3"></i>
                            <span class="text-gray-300">1 domain check per month</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-3"></i>
                            <span class="text-gray-300">Basic DNS checks only</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-times text-red-400 mr-3"></i>
                            <span class="text-gray-400">No copy compliance checks</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-times text-red-400 mr-3"></i>
                            <span class="text-gray-400">No priority support</span>
                        </li>
                    </ul>
                    
                    <a href="#tool" class="block w-full bg-gray-700 text-white text-center py-3 rounded-lg hover:bg-gray-600 transition-colors font-semibold">
                        Start Free
                    </a>
                </div>
                
                <div class="bg-gradient-to-br from-purple-900/50 to-blue-900/50 rounded-2xl p-8 border-2 border-purple-700">
                    <div class="text-center mb-6">
                        <div class="inline-block bg-yellow-900/30 text-yellow-400 text-sm font-semibold px-4 py-1 rounded-full mb-4">
                            MOST POPULAR
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">Pro Tier</h3>
                        <div class="text-4xl font-bold text-yellow-400 mb-4">$14.99<span class="text-xl text-gray-300">/month</span></div>
                        <p class="text-gray-300">For serious cold emailers</p>
                    </div>
                    
                    <ul class="space-y-4 mb-8">
                        <li class="flex items-center">
                            <i class="fas fa-check text-yellow-400 mr-3"></i>
                            <span class="text-white">Unlimited domain checks</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-yellow-400 mr-3"></i>
                            <span class="text-white">Full DNS validation (MX, SPF, DKIM, DMARC)</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-yellow-400 mr-3"></i>
                            <span class="text-white">Unlimited copy compliance checks</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-yellow-400 mr-3"></i>
                            <span class="text-white">All compliance checks (5 areas)</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-yellow-400 mr-3"></i>
                            <span class="text-white">Priority support & updates</span>
                        </li>
                    </ul>
                    
                    <a href="https://whop.com/inboxready-pro" target="_blank" 
                       class="block w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white text-center py-3 rounded-lg hover:opacity-90 transition-opacity font-semibold">
                        Subscribe on Whop
                    </a>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <p class="text-gray-400">All subscriptions are managed through <a href="https://whop.com" target="_blank" class="text-primary hover:underline">Whop.com</a></p>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-16 bg-gray-900">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 text-white">Frequently Asked Questions</h2>
                <p class="text-gray-400 max-w-2xl mx-auto">Clear answers to common questions about our tools</p>
            </div>
            
            <div class="max-w-3xl mx-auto">
                <div class="space-y-6">
                    <div class="bg-gray-800 border border-gray-700 rounded-xl p-6">
                        <h3 class="font-semibold text-lg mb-2 text-white">What's the difference between domain readiness and copy compliance?</h3>
                        <p class="text-gray-400">Domain readiness checks your technical setup (DNS records, domain age). Copy compliance checks your email content (spam triggers, legal requirements). You need both to send successful cold email.</p>
                    </div>
                    
                    <div class="bg-gray-800 border border-gray-700 rounded-xl p-6">
                        <h3 class="font-semibold text-lg mb-2 text-white">How do I subscribe or purchase?</h3>
                        <p class="text-gray-400">All subscriptions are handled through our <a href="https://whop.com/inboxready-pro" target="_blank" class="text-primary hover:underline">Whop.com page</a>. After purchasing, you'll receive a license key to unlock the Pro features for both tools.</p>
                    </div>
                    
                    <div class="bg-gray-800 border border-gray-700 rounded-xl p-6">
                        <h3 class="font-semibold text-lg mb-2 text-white">What does the copy compliance tool check for?</h3>
                        <p class="text-gray-400">It analyzes 5 key areas: 1) Spam trigger words that increase filter risk, 2) Overclaim language that hurts credibility, 3) Deceptive personalization patterns, 4) Unsubscribe language (CAN-SPAM compliance), 5) Overall tone and readability.</p>
                    </div>
                    
                    <div class="bg-gray-800 border border-gray-700 rounded-xl p-6">
                        <h3 class="font-semibold text-lg mb-2 text-white">Why should I check both domain AND copy?</h3>
                        <p class="text-gray-400">Your domain can be technically perfect, but if your copy triggers spam filters, your emails won't deliver. Your copy can be perfect, but if your domain isn't configured correctly, your emails won't deliver. You need both.</p>
                    </div>
                    
                    <div class="bg-gray-800 border border-gray-700 rounded-xl p-6">
                        <h3 class="font-semibold text-lg mb-2 text-white">How accurate are the results?</h3>
                        <p class="text-gray-400">Domain checks use real DNS queries and WHOIS lookups. Copy checks use extensive rule lists for spam triggers, compliance requirements, and best practices. Both are based on industry standards.</p>
                    </div>
                    
                    <div class="bg-gray-800 border border-gray-700 rounded-xl p-6">
                        <h3 class="font-semibold text-lg mb-2 text-white">Do you store or use my domain or email copy data?</h3>
                        <p class="text-gray-400">No, we don't store your domain information or email copy. All checks are performed in real-time and results are only shown to you in your browser.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (updated with contact email) -->
    <footer class="bg-black text-gray-400 py-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 max-w-6xl mx-auto pb-8 border-b border-gray-800">
                <div>
                    <div class="flex items-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 h-8 text-primary mr-2">
                            <path fill="currentColor" d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            <path fill="currentColor" d="M14 16H4v-4h10v4zm4-4h-2v2h2v-2z" opacity="0.7"/>
                        </svg>
                        <div>
                            <span class="font-bold text-xl text-white">InboxLX</span>
                            <span class="font-medium text-sm text-primary">Pro</span>
                        </div>
                    </div>
                    <p class="text-sm">Know if your domain AND email copy are safe for cold email before you press Send.</p>
                </div>
                
                <div>
                    <h4 class="text-white font-semibold mb-4">Product</h4>
                    <ul class="space-y-2">
                        <li><a href="#features" class="hover:text-secondary">Features</a></li>
                        <li><a href="#tools" class="hover:text-secondary">Tools</a></li>
                        <li><a href="#how-it-works" class="hover:text-secondary">How It Works</a></li>
                        <li><a href="#pricing" class="hover:text-secondary">Pricing</a></li>
                        <li><a href="#faq" class="hover:text-secondary">FAQ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-white font-semibold mb-4">Legal</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="hover:text-secondary">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-secondary">Terms of Service</a></li>
                        <li><a href="#" class="hover:text-secondary">Disclaimer</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-white font-semibold mb-4">Contact</h4>
                    <ul class="space-y-2">
                        <li><a href="mailto:one04digital@outlook.com" class="hover:text-secondary">Support</a></li>
                        <li><a href="https://whop.com/inboxlx" target="_blank" class="hover:text-secondary">Purchase on Whop</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="pt-8 text-center">
                <p>&copy; <span id="current-year"></span> InboxLX. All rights reserved.</p>
                <p class="text-sm mt-2">InboxLX provides analytical guidance to support better email performance. Actual deliverability may vary.</p>
            </div>
        </div>
    </footer>

    <!-- Scroll to top button -->
    <button id="scroll-to-top" class="fixed bottom-6 right-6 bg-primary text-white w-12 h-12 rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-300 hidden">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // --- Mobile Menu, Scroll-to-top, Year (as before) ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const closeMobileMenuButton = document.getElementById('close-mobile-menu');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuPanel = mobileMenu.querySelector('div');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('pointer-events-none');
            mobileMenu.classList.add('pointer-events-auto');
            mobileMenu.classList.remove('opacity-0');
            mobileMenu.classList.add('opacity-100');
            mobileMenuPanel.classList.remove('translate-x-full');
        });
        closeMobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('pointer-events-auto');
            mobileMenu.classList.add('pointer-events-none');
            mobileMenu.classList.remove('opacity-100');
            mobileMenu.classList.add('opacity-0');
            mobileMenuPanel.classList.add('translate-x-full');
        });
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('pointer-events-auto');
                mobileMenu.classList.add('pointer-events-none');
                mobileMenu.classList.remove('opacity-100');
                mobileMenu.classList.add('opacity-0');
                mobileMenuPanel.classList.add('translate-x-full');
            });
        });
        
        const scrollToTopButton = document.getElementById('scroll-to-top');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) scrollToTopButton.classList.remove('hidden');
            else scrollToTopButton.classList.add('hidden');
        });
        scrollToTopButton.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // --- Tool Tabs (unchanged) ---
        const tabDomain = document.getElementById('tab-domain');
        const tabCopy = document.getElementById('tab-copy');
        const toolSections = document.querySelectorAll('.tool-section');
        tabDomain.addEventListener('click', () => {
            toolSections.forEach(s => s.classList.add('hidden'));
            document.getElementById('domain-tool').classList.remove('hidden');
            tabDomain.classList.add('bg-primary','text-white');
            tabCopy.classList.remove('bg-primary','text-white');
            tabCopy.classList.add('text-gray-300');
        });
        tabCopy.addEventListener('click', () => {
            // if not pro, show subscription
            if (!userData.subscription || userData.subscription !== 'pro') {
                showSubscriptionModal();
                return;
            }
            toolSections.forEach(s => s.classList.add('hidden'));
            document.getElementById('copy-tool').classList.remove('hidden');
            tabCopy.classList.add('bg-primary','text-white');
            tabDomain.classList.remove('bg-primary','text-white');
            tabDomain.classList.add('text-gray-300');
        });

        // --- User Data & Auth ---
        let userData = {
            email: null,
            subscription: 'free', // 'free' or 'pro'
            domainChecksUsed: 0,
            domainChecksLimit: 1,
            copyChecksUsed: 0,
            copyChecksLimit: 0,
            licenseKey: null,
            sessionToken: null
        };

        // DOM elements
        const userEmailSpan = document.getElementById('user-email');
        const usageBadge = document.getElementById('usage-badge');
        const userMenuBtn = document.getElementById('user-menu-btn');
        const userDropdown = document.getElementById('user-dropdown');
        const loginHeaderBtn = document.getElementById('login-header-btn');
        const mobileLoginBtn = document.getElementById('mobile-login-btn');
        const loginModal = document.getElementById('login-modal');
        const closeLoginModal = document.getElementById('close-login-modal');
        const loginEmail = document.getElementById('login-email');
        const loginPassword = document.getElementById('login-password');
        const loginError = document.getElementById('login-error');
        const loginSubmit = document.getElementById('login-submit');
        const dropdownTier = document.getElementById('dropdown-tier');
        const dropdownLogout = document.getElementById('dropdown-logout');

        // Signup elements
        const loginTab = document.getElementById('login-tab');
        const signupTab = document.getElementById('signup-tab');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const modalTitle = document.getElementById('login-modal-title');
        const signupEmail = document.getElementById('signup-email');
        const signupPassword = document.getElementById('signup-password');
        const signupConfirm = document.getElementById('signup-confirm');
        const signupError = document.getElementById('signup-error');
        const signupSubmit = document.getElementById('signup-submit');

        // Tab switching
        loginTab.addEventListener('click', () => {
            loginTab.classList.add('border-primary', 'text-white');
            signupTab.classList.remove('border-primary', 'text-white');
            signupTab.classList.add('text-gray-400');
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
            modalTitle.textContent = 'Sign In';
        });

        signupTab.addEventListener('click', () => {
            signupTab.classList.add('border-primary', 'text-white');
            loginTab.classList.remove('border-primary', 'text-white');
            loginTab.classList.add('text-gray-400');
            signupForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
            modalTitle.textContent = 'Sign Up';
        });

        // Show/hide login modal
        function showLoginModal() { loginModal.classList.remove('hidden'); loginModal.classList.add('flex'); }
        function hideLoginModal() { loginModal.classList.add('hidden'); loginModal.classList.remove('flex'); loginError.classList.add('hidden'); signupError.classList.add('hidden'); }
        closeLoginModal.addEventListener('click', hideLoginModal);
        loginHeaderBtn.addEventListener('click', showLoginModal);
        mobileLoginBtn.addEventListener('click', showLoginModal);

        // Login submission
        loginSubmit.addEventListener('click', async () => {
            const email = loginEmail.value.trim();
            const password = loginPassword.value.trim();
            if (!email || !password) {
                loginError.textContent = 'Email and password required';
                loginError.classList.remove('hidden');
                return;
            }
            loginError.classList.add('hidden');
            try {
                const res = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                const data = await res.json();
                if (res.ok && data.session) {
                    userData.sessionToken = data.session.access_token;
                    userData.email = data.user.email;
                    userData.subscription = data.user.subscription_tier || 'free';
                    // fetch usage
                    await fetchUsage();
                    updateUIAfterLogin();
                    hideLoginModal();
                } else {
                    loginError.textContent = data.error || 'Login failed';
                    loginError.classList.remove('hidden');
                }
            } catch (e) {
                loginError.textContent = 'Network error';
                loginError.classList.remove('hidden');
            }
        });

        // Signup submission
        signupSubmit.addEventListener('click', async () => {
            const email = signupEmail.value.trim();
            const password = signupPassword.value;
            const confirm = signupConfirm.value;

            if (!email || !password) {
                signupError.textContent = 'Email and password required';
                signupError.classList.remove('hidden');
                return;
            }
            if (password !== confirm) {
                signupError.textContent = 'Passwords do not match';
                signupError.classList.remove('hidden');
                return;
            }

            signupError.classList.add('hidden');
            try {
                const res = await fetch('/api/auth/signup', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                const data = await res.json();
                if (res.ok) {
                    // auto-login after signup
                    userData.sessionToken = data.session.access_token;
                    userData.email = data.user.email;
                    userData.subscription = data.user.subscription_tier || 'free';
                    await fetchUsage();
                    updateUIAfterLogin();
                    hideLoginModal();
                } else {
                    signupError.textContent = data.error || 'Signup failed';
                    signupError.classList.remove('hidden');
                }
            } catch (e) {
                signupError.textContent = 'Network error';
                signupError.classList.remove('hidden');
            }
        });

        // Fetch usage from /api/usage/get
        async function fetchUsage() {
            if (!userData.sessionToken) return;
            try {
                const res = await fetch('/api/usage/get', {
                    headers: { 'Authorization': `Bearer ${userData.sessionToken}` }
                });
                const data = await res.json();
                if (res.ok) {
                    userData.domainChecksUsed = data.domain_checks_month;
                    userData.copyChecksUsed = data.copy_checks_month;
                    userData.domainChecksLimit = data.subscription_tier === 'pro' ? 9999 : 1;
                    userData.copyChecksLimit = data.subscription_tier === 'pro' ? 9999 : 0;
                    userData.subscription = data.subscription_tier;
                }
            } catch (e) { console.error('Failed to fetch usage', e); }
        }

        // Update UI after login
        function updateUIAfterLogin() {
            userEmailSpan.textContent = userData.email;
            userEmailSpan.classList.remove('hidden');
            userMenuBtn.classList.remove('hidden');
            loginHeaderBtn.classList.add('hidden');
            mobileLoginBtn.classList.add('hidden');
            if (userData.subscription === 'pro') {
                usageBadge.textContent = `Unlimited`;
            } else {
                usageBadge.textContent = `${userData.domainChecksUsed}/${userData.domainChecksLimit} domain checks`;
            }
            usageBadge.classList.remove('hidden');
            dropdownTier.textContent = userData.subscription === 'pro' ? 'Pro Plan' : 'Free Plan';
        }

        // User menu toggle
        userMenuBtn.addEventListener('click', () => {
            userDropdown.classList.toggle('hidden');
        });
        // Logout
        dropdownLogout.addEventListener('click', () => {
            userData = { ...userData, sessionToken: null, email: null, subscription: 'free' };
            userEmailSpan.classList.add('hidden');
            usageBadge.classList.add('hidden');
            userMenuBtn.classList.add('hidden');
            loginHeaderBtn.classList.remove('hidden');
            mobileLoginBtn.classList.remove('hidden');
            userDropdown.classList.add('hidden');
            // Also clear any local state
            localStorage.removeItem('inboxlx_session');
        });

        // Check for existing session on load (from localStorage)
        async function loadSession() {
            const stored = localStorage.getItem('inboxlx_session');
            if (stored) {
                const { token, email } = JSON.parse(stored);
                userData.sessionToken = token;
                userData.email = email;
                // validate token with /api/auth/validate
                try {
                    const res = await fetch('/api/auth/validate', { headers: { 'Authorization': `Bearer ${token}` } });
                    if (res.ok) {
                        const data = await res.json();
                        userData.subscription = data.subscription_tier;
                        await fetchUsage();
                        updateUIAfterLogin();
                    } else {
                        localStorage.removeItem('inboxlx_session');
                    }
                } catch { localStorage.removeItem('inboxlx_session'); }
            }
        }
        loadSession();

        // --- Subscription / License Modals (simplified) ---
        const subModal = document.getElementById('subscription-modal');
        const licenseModal = document.getElementById('license-modal');
        const closeModal = document.getElementById('close-modal');
        const closeLicense = document.getElementById('close-license-modal');
        const enterLicense = document.getElementById('enter-license-btn');
        const backToSub = document.getElementById('back-to-subscription');
        const verifyLicense = document.getElementById('verify-license-btn');
        const licenseInput = document.getElementById('license-key-input');
        const upgradeBtn = document.getElementById('upgrade-btn');
        const copyUpgradeBtn = document.getElementById('copy-upgrade-btn');
        const loginBtn = document.getElementById('login-btn');

        function showSubscriptionModal() { subModal.classList.remove('hidden'); subModal.classList.add('flex'); }
        function hideSubscriptionModal() { subModal.classList.add('hidden'); subModal.classList.remove('flex'); }
        function showLicenseModal() { licenseModal.classList.remove('hidden'); licenseModal.classList.add('flex'); hideSubscriptionModal(); }
        function hideLicenseModal() { licenseModal.classList.add('hidden'); licenseModal.classList.remove('flex'); }

        closeModal.addEventListener('click', hideSubscriptionModal);
        closeLicense.addEventListener('click', hideLicenseModal);
        enterLicense.addEventListener('click', showLicenseModal);
        backToSub.addEventListener('click', () => { hideLicenseModal(); showSubscriptionModal(); });
        loginBtn?.addEventListener('click', showSubscriptionModal);
        upgradeBtn?.addEventListener('click', showSubscriptionModal);
        copyUpgradeBtn?.addEventListener('click', showSubscriptionModal);

        // Verify license (calls /api/verify-subscription)
        verifyLicense.addEventListener('click', async () => {
            const key = licenseInput.value.trim();
            if (!key) return alert('Enter license key');
            const res = await fetch('/api/verify-subscription', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ licenseKey: key })
            });
            const data = await res.json();
            if (data.valid) {
                userData.subscription = 'pro';
                userData.licenseKey = key;
                if (userData.sessionToken) {
                    // also update on server via /api/usage/update-subscription
                    await fetch('/api/usage/update-subscription', {
                        method: 'POST',
                        headers: { 
                            'Authorization': `Bearer ${userData.sessionToken}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ tier: 'pro', licenseKey: key })
                    });
                }
                hideLicenseModal();
                alert('Pro activated!');
                updateUIAfterLogin(); // refresh badge
            } else {
                alert('Invalid license key');
            }
        });

        // --- Domain Check (with usage tracking) ---
        const domainInput = document.getElementById('domain-input');
        const checkDomainBtn = document.getElementById('check-domain-button');
        const domainLoading = document.getElementById('domain-loading-state');
        const domainResults = document.getElementById('domain-results-section');
        const domainVerdictBadge = document.getElementById('domain-verdict-badge');
        const domainDisplay = document.getElementById('domain-display');
        const domainLastUpdated = document.getElementById('domain-last-updated');
        // ... your existing domain update functions go here (displayDomainResults, etc.)

        // Simplified domain check handler with usage limit
        checkDomainBtn.addEventListener('click', async () => {
            const domain = domainInput.value.trim().toLowerCase();
            if (!domain) return alert('Enter domain');
            if (!/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(domain)) 
                return alert('Invalid domain');

            if (!userData.sessionToken) {
                showLoginModal();
                return;
            }

            if (userData.subscription !== 'pro' && userData.domainChecksUsed >= userData.domainChecksLimit) {
                alert('You have used your free domain check for this month. Upgrade to Pro for unlimited checks.');
                showSubscriptionModal();
                return;
            }

            domainLoading.classList.remove('hidden');
            domainResults.classList.add('hidden');

            try {
                const res = await fetch('/api/check-domain', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.sessionToken}`
                    },
                    body: JSON.stringify({ domain })
                });
                const data = await res.json();
                if (res.ok) {
                    // increment usage on server (handled by backend)
                    userData.domainChecksUsed++;
                    usageBadge.textContent = userData.subscription === 'pro' ? 'Unlimited' : `${userData.domainChecksUsed}/${userData.domainChecksLimit} domain checks`;
                    // Display results (call your existing displayDomainResults function)
                    displayDomainResults(domain, data);
                } else {
                    alert(data.error || 'Check failed');
                }
            } catch (e) {
                alert('Network error');
            } finally {
                domainLoading.classList.add('hidden');
                domainResults.classList.remove('hidden');
            }
        });

        // You need to keep all the updateDomainCheckElement and displayDomainResults functions from earlier.
        // They are not repeated here; ensure they are present in your actual file.

        // --- Copy Compliance (with specific flagged items) ---
        const copySubject = document.getElementById('email-subject');
        const copyBody = document.getElementById('email-body');
        const checkCopyBtn = document.getElementById('check-copy-button');
        const copyLoading = document.getElementById('copy-loading-state');
        const copyResults = document.getElementById('copy-results-section');
        const copyVerdictBadge = document.getElementById('copy-verdict-badge');
        const copyLastUpdated = document.getElementById('copy-last-updated');
        const emailPreview = document.getElementById('email-preview');
        const spamSpecific = document.getElementById('spam-specific');
        const overclaimSpecific = document.getElementById('overclaim-specific');
        const personalizationSpecific = document.getElementById('personalization-specific');
        const unsubscribeSpecific = document.getElementById('unsubscribe-specific');
        const toneSpecific = document.getElementById('tone-specific');
        const copyRecommendationsList = document.querySelector('.copy-recommendations-list');

        // Enhanced analysis function that returns specific flagged items
        function analyzeEmailCopy(subject, body) {
            const fullText = (subject + ' ' + body).toLowerCase();
            const spamTriggers = [
                'free','guarantee','winner','prize','discount','save up to','act now','limited time',
                'offer expires','click here','buy now','order now','special promotion','dear friend',
                'urgent','important information','risk-free','100% free','no cost','no fees',
                'once in a lifetime','you have been selected','money','cash','income','earn',
                'make money','extra income','home based','get paid','opportunity','system','sample',
                'gift','check or money order','credit card','apply now','call now','contact us immediately',
                'don\'t delete','fantastic deal','for free','great offer','information you requested',
                'no catch','no strings attached'
            ];
            const overclaimPatterns = [
                'increase.*by.*%','grow.*by.*%','boost.*by.*%','300%','500%','1000%','double','triple',
                'revolutionary','groundbreaking','breakthrough','miracle','magic','secret','hidden',
                'overnight','instant','immediately','guaranteed results','proven method','scientifically proven',
                'exclusive','limited','never before seen','million','billion','fortune','wealth',
                'life-changing','transform your','change your life'
            ];
            const deceptivePersonalization = [
                '{first name}','{first_name}','{firstname}','{last name}','{last_name}','{lastname}',
                '{company}','{company name}','{city}','{industry}','dear friend','dear valued customer',
                'dear [name]','dear [firstname]','hello [name]'
            ];

            const foundSpam = spamTriggers.filter(t => fullText.includes(t));
            const foundOverclaim = [];
            overclaimPatterns.forEach(p => {
                const regex = new RegExp(p, 'gi');
                const m = fullText.match(regex);
                if (m) foundOverclaim.push(...m);
            });
            const foundDeceptive = deceptivePersonalization.filter(p => body.toLowerCase().includes(p));
            const hasUnsubscribe = /unsubscribe|opt-?out|remove me|email preferences/i.test(fullText);

            // Build specific lists
            spamSpecific.innerHTML = foundSpam.length ? '‚ùå Found: ' + foundSpam.join(', ') : '‚úÖ None';
            overclaimSpecific.innerHTML = foundOverclaim.length ? '‚ùå Found: ' + [...new Set(foundOverclaim)].join(', ') : '‚úÖ None';
            personalizationSpecific.innerHTML = foundDeceptive.length ? '‚ùå Found: ' + foundDeceptive.join(', ') : '‚úÖ None';
            unsubscribeSpecific.innerHTML = hasUnsubscribe ? '‚úÖ Present' : '‚ùå Missing';
            // tone specific ‚Äì word count, sentence length
            const words = body.split(/\s+/).length;
            const sentences = body.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
            const avg = sentences ? (words / sentences).toFixed(1) : 0;
            toneSpecific.innerHTML = `Words: ${words}, Sentences: ${sentences}, Avg length: ${avg}`;

            // verdicts & recommendations
            const spamScore = Math.min(100, foundSpam.length * 10 + foundOverclaim.length * 15);
            const overclaimScore = Math.min(100, foundOverclaim.length * 20);
            const personalizationScore = foundDeceptive.length ? 80 : 0;
            const unsubscribeScore = hasUnsubscribe ? 0 : 70;
            const toneScore = Math.max(0, 100 - (avg > 30 ? 30 : avg * 2)) + (words > 300 ? -20 : 0);
            const complianceScore = Math.max(0, 100 - (spamScore*0.4 + overclaimScore*0.3 + personalizationScore*0.2 + unsubscribeScore*0.1));

            const verdict = complianceScore >= 70 ? 'compliant' : complianceScore >= 40 ? 'needs-review' : 'non-compliant';
            const badgeMap = { compliant: 'üü¢ COMPLIANT', 'needs-review': 'üü° NEEDS REVIEW', 'non-compliant': 'üî¥ NON-COMPLIANT' };
            const classMap = { compliant: 'status-compliant', 'needs-review': 'status-needs-review', 'non-compliant': 'status-non-compliant' };
            copyVerdictBadge.textContent = badgeMap[verdict];
            copyVerdictBadge.className = `px-4 py-2 rounded-full text-white font-semibold ${classMap[verdict]}`;

            // Build recommendations list
            let recs = [];
            if (foundSpam.length) recs.push(`Remove spam trigger words: ${foundSpam.join(', ')}`);
            if (foundOverclaim.length) recs.push(`Replace exaggerated claims: ${[...new Set(foundOverclaim)].join(', ')}`);
            if (foundDeceptive.length) recs.push(`Use real personalization instead of placeholders like ${foundDeceptive.join(', ')}`);
            if (!hasUnsubscribe) recs.push('Add an unsubscribe link (CAN-SPAM requirement)');
            if (avg > 25) recs.push(`Sentences are too long (avg ${avg} words). Break them up.`);
            if (words > 250) recs.push('Email is too long (best under 150 words)');
            if (verdict === 'compliant') recs.push('Your copy looks good! Consider A/B testing.');
            copyRecommendationsList.innerHTML = recs.map(r => `<div class="flex items-start mb-2"><i class="fas fa-lightbulb text-purple-400 mt-0.5 mr-3"></i><span>${r}</span></div>`).join('');

            // Build highlighted preview (same as before)
            let previewHTML = '';
            const lines = (subject + '\n\n' + body).split('\n');
            lines.forEach(line => {
                if (!line.trim()) { previewHTML += '<div style="height:1em;"></div>'; return; }
                let cls = '';
                if (foundSpam.some(s => line.toLowerCase().includes(s))) cls = 'highlight-spam';
                else if (foundDeceptive.some(d => line.toLowerCase().includes(d))) cls = 'highlight-warning';
                else if (line.toLowerCase().includes('unsubscribe')) cls = 'highlight-good';
                previewHTML += `<div class="${cls}">${line.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}</div>`;
            });
            emailPreview.innerHTML = previewHTML;

            copyLastUpdated.textContent = `Last analyzed: ${new Date().toLocaleTimeString()}`;
        }

        checkCopyBtn.addEventListener('click', () => {
            if (!userData.sessionToken || userData.subscription !== 'pro') {
                showSubscriptionModal();
                return;
            }
            const subject = copySubject.value.trim();
            const body = copyBody.value.trim();
            if (!subject && !body) return alert('Enter subject or body');
            copyLoading.classList.remove('hidden');
            copyResults.classList.add('hidden');
            setTimeout(() => {
                analyzeEmailCopy(subject, body);
                copyLoading.classList.add('hidden');
                copyResults.classList.remove('hidden');
            }, 1000);
        });

        // Load example
        document.getElementById('load-example-button').addEventListener('click', () => {
            copySubject.value = "Quick question about your business...";
            copyBody.value = `Hi {First Name},\n\nI was looking at your website and noticed you're doing great work in the industry.\n\nI wanted to reach out because we've helped similar companies INCREASE THEIR REVENUE BY 300% in just 90 days using our revolutionary AI-powered solution.\n\nThis is a LIMITED TIME OFFER - act now to get our exclusive FREE TRIAL with no credit card required!\n\nWe guarantee results or your money back 100%.\n\nClick here to schedule a call: https://ourcompany.com/schedule\n\nBest regards,\nJohn Smith\nCEO, Awesome Solutions Inc.\n\nP.S. This won't take much of your time and could be worth MILLIONS to your business!`;
        });

        // Clear copy
        document.getElementById('clear-copy-button').addEventListener('click', () => {
            copySubject.value = '';
            copyBody.value = '';
            copyResults.classList.add('hidden');
        });

        // --- AI Rewrite ---
        const aiRewriteBtn = document.getElementById('ai-rewrite-button');
        const aiModal = document.getElementById('ai-rewrite-modal');
        const closeAiModal = document.getElementById('close-ai-modal');
        const cancelAiBtn = document.getElementById('cancel-rewrite-btn');
        const aiToneSelect = document.getElementById('ai-tone');
        const aiRewrittenText = document.getElementById('ai-rewritten-text');
        const applyRewriteBtn = document.getElementById('apply-rewrite-btn');
        const regenerateRewriteBtn = document.getElementById('regenerate-rewrite-btn');

        function showAiModal() { aiModal.classList.remove('hidden'); aiModal.classList.add('flex'); }
        function hideAiModal() { aiModal.classList.add('hidden'); aiModal.classList.remove('flex'); }
        closeAiModal.addEventListener('click', hideAiModal);
        cancelAiBtn.addEventListener('click', hideAiModal);

        aiRewriteBtn.addEventListener('click', async () => {
            if (!userData.sessionToken || userData.subscription !== 'pro') {
                showSubscriptionModal();
                return;
            }
            const subject = copySubject.value.trim();
            const body = copyBody.value.trim();
            if (!body && !subject) return alert('Paste some copy first');
            showAiModal();
            // start with current text
            aiRewrittenText.value = `Subject: ${subject}\n\n${body}`;
        });

        regenerateRewriteBtn.addEventListener('click', async () => {
            const subject = copySubject.value.trim();
            const body = copyBody.value.trim();
            const tone = aiToneSelect.value;
            aiRewrittenText.value = 'Generating...';
            try {
                const res = await fetch('/api/rewrite-copy', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${userData.sessionToken}`
                    },
                    body: JSON.stringify({ text: `Subject: ${subject}\n\n${body}`, tone })
                });
                const data = await res.json();
                if (res.ok) aiRewrittenText.value = data.rewritten;
                else aiRewrittenText.value = 'Error: ' + data.error;
            } catch {
                aiRewrittenText.value = 'Network error';
            }
        });

        applyRewriteBtn.addEventListener('click', () => {
            const rewritten = aiRewrittenText.value;
            // attempt to separate subject/body (simple)
            const lines = rewritten.split('\n');
            if (lines[0].toLowerCase().startsWith('subject:')) {
                copySubject.value = lines[0].substring(8).trim();
                copyBody.value = lines.slice(2).join('\n').trim(); // after empty line
            } else {
                copyBody.value = rewritten;
            }
            hideAiModal();
        });

        // --- Keep all existing domain display functions (not repeated here) ---
        // You must copy them from your previous version.

        console.log('InboxLX ready');
    </script>
    
    <!-- JSON-LD Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "InboxLX",
        "description": "Check domain technical readiness AND email copy compliance for cold email campaigns.",
        "url": "https://inboxlx.vercel.app",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "14.99",
            "priceCurrency": "USD"
        },
        "featureList": [
            "Domain MX, SPF, DKIM, DMARC checks",
            "Domain age analysis",
            "Email spam trigger detection",
            "Overclaim language analysis",
            "Personalization pattern checking",
            "Unsubscribe compliance verification",
            "Tone and readability scoring"
        ],
        "author": { "@type": "Organization", "name": "InboxLX" }
    }
    </script>
</body>
</html>
